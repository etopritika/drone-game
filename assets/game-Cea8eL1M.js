import{e as zt,r as l,j as f,P as Z,c as re,b as Bt,f as ir,g as sr,h as Dt,i as je,k as pe,l as lt,S as lr,D as cr,m as ur,n as dr,o as fr,R as p,u as vr,d as Be}from"./index-CVgWJOZL.js";import{u as we,a as Ge}from"./cave-store-BBhutaNG.js";import{B as mr}from"./button-Csr1Gdtk.js";import{c as $e}from"./createLucideIcon-BA2yNbvC.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=$e("SquareArrowDown",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=$e("SquareArrowLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}],["path",{d:"M16 12H8",key:"1fr5h0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=$e("SquareArrowRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=$e("SquareArrowUp",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);var ct="Progress",ut=100,[br,ba]=zt(ct),[yr,Er]=br(ct),Gt=l.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:a=xr,...s}=e;(o||o===0)&&!Ct(o)&&console.error(Sr(`${o}`,"Progress"));const i=Ct(o)?o:ut;r!==null&&!Rt(r,i)&&console.error(Dr(`${r}`,"Progress"));const h=Rt(r,i)?r:null,b=Me(h)?a(h,i):void 0;return f.jsx(yr,{scope:n,value:h,max:i,children:f.jsx(Z.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":Me(h)?h:void 0,"aria-valuetext":b,role:"progressbar","data-state":qt(h,i),"data-value":h??void 0,"data-max":i,...s,ref:t})})});Gt.displayName=ct;var Yt="ProgressIndicator",Xt=l.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,o=Er(Yt,n);return f.jsx(Z.div,{"data-state":qt(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})});Xt.displayName=Yt;function xr(e,t){return`${Math.round(e/t*100)}%`}function qt(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Me(e){return typeof e=="number"}function Ct(e){return Me(e)&&!isNaN(e)&&e>0}function Rt(e,t){return Me(e)&&!isNaN(e)&&e<=t&&e>=0}function Sr(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ut}\`.`}function Dr(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ut} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kt=Gt,Cr=Xt;const Zt=l.forwardRef(({className:e,value:t,...n},r)=>f.jsx(Kt,{ref:r,className:re("relative h-2 w-full overflow-hidden rounded-full bg-zinc-900/20 dark:bg-zinc-50/20",e),...n,children:f.jsx(Cr,{className:"h-full w-full flex-1 bg-zinc-900 transition-all dark:bg-zinc-50",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Zt.displayName=Kt.displayName;const Tt=["Digging the cave","Charging the drone batteries","Calibrating sensors","Preparing for takeoff","Setting the drone's course","Uploading flight data"],Rr=({allCoordinatesReceived:e})=>{const[t,n]=l.useState(0),[r,o]=l.useState(0);return l.useEffect(()=>{if(e){n(100);return}const a=setInterval(()=>{n(s=>s>=100?0:s+1)},40);return()=>clearInterval(a)},[e]),l.useEffect(()=>{t===100&&o(a=>(a+1)%Tt.length)},[t]),f.jsxs("div",{className:"w-full sm:w-96 max-w-md my-4",children:[f.jsx(Zt,{value:t,className:"w-full h-4 bg-white"}),f.jsxs("p",{className:"text-center mt-2",children:[Tt[r],": ",Math.round(t),"%"]})]})},Tr=3,Nt=2,Nr=1,Ar=50,ot=20,At=5,Or=({segments:e,caveOffsetY:t,handleSpeedUp:n,handleSpeedDown:r})=>{const o=Bt(),[a,s]=l.useState(250),[i,h]=l.useState(1),b=500,E=l.useRef({}),v=we(g=>g.isGameOver),m=we(g=>g.setGameOver),d=l.useCallback(g=>{const u=g.type==="keydown";(g.key==="ArrowLeft"||g.key==="ArrowRight")&&(E.current[g.key]=u),g.key==="ArrowDown"&&u&&n(),g.key==="ArrowUp"&&u&&r()},[n,r]);return l.useEffect(()=>{const g=()=>{v||(s(u=>{let x=u;return E.current.ArrowLeft&&(x=Math.max(0,u-At)),E.current.ArrowRight&&(x=Math.min(b-20,u+At)),x}),requestAnimationFrame(g))};return requestAnimationFrame(g),window.addEventListener("keydown",d),window.addEventListener("keyup",d),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",d)}},[d,v]),l.useEffect(()=>{const g=Math.floor(t/ot);if(g>=e.length){m(!0),h(0),setTimeout(()=>{o("/finish-game")},1e3);return}const{leftWall:u,rightWall:x}=e[g]||{},S=250+(u??-71),A=250+(x??71);(a<S||a>A)&&(m(!0),h(0),setTimeout(()=>{o("/finish-game")},1e3))},[a,t,e,m,o]),f.jsx("div",{className:"fixed top-0 z-50",style:{width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"20px solid green",transform:`translateX(${a}px)`,opacity:i,transition:"opacity 1s ease"}})},Pr=({complexity:e,verticalSpeed:t,isDrawerOpen:n})=>{const[r,o]=l.useState(0),a=we(i=>i.isGameOver),s=we(i=>i.setScore);return l.useEffect(()=>{if(n||a)return;const i=Math.floor(e*t),h=setInterval(()=>{o(b=>b+i)},100);return()=>clearInterval(h)},[e,t,n,a]),l.useEffect(()=>{a&&s(r)},[a,s,r]),f.jsxs("div",{className:"fixed top-4 right-4 bg-gray-800 text-white p-4 rounded-lg shadow-lg",children:[f.jsxs("div",{children:[f.jsx("strong",{children:"Score:"})," ",r]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Speed:"})," ",t]})]})},Ir=({segments:e,allCoordinatesReceived:t,isDrawerOpen:n,complexity:r})=>{const o=l.useRef(null),[a,s]=l.useState(0),[i,h]=l.useState(Tr),b=e.length*ot,E=we(d=>d.isGameOver),v=l.useCallback(()=>{h(d=>Math.min(d+Nt,Ar))},[]),m=l.useCallback(()=>{h(d=>Math.max(d-Nt,Nr))},[]);return l.useEffect(()=>{let d;const g=()=>{E||(s(u=>u+i),d=requestAnimationFrame(g))};return t&&!n&&!E&&(d=requestAnimationFrame(g)),()=>{cancelAnimationFrame(d)}},[t,n,i,E]),l.useEffect(()=>{var A,w;const d=o.current;if(!d)return;const g=d.getContext("2d");if(!g)return;let u=250+(((A=e[0])==null?void 0:A.leftWall)??-71),x=250+(((w=e[0])==null?void 0:w.rightWall)??71),S=0;g.clearRect(0,0,d.width,d.height),g.fillStyle="#242424",g.fillRect(0,0,d.width,d.height),e.forEach(({leftWall:c,rightWall:y})=>{const O=S+ot;g.beginPath(),g.moveTo(u,S),g.lineTo(250+c,O),g.lineTo(250+y,O),g.lineTo(x,S),g.closePath(),g.fillStyle="#FFFFFF",g.fill(),g.strokeStyle="#FFFFFF",g.lineWidth=2,g.stroke(),u=250+c,x=250+y,S=O})},[e]),f.jsxs("div",{className:"relative overflow-hidden h-screen w-full",children:[f.jsx(Pr,{complexity:r,verticalSpeed:i,isDrawerOpen:n}),f.jsx(Or,{segments:e,caveOffsetY:a,handleSpeedUp:v,handleSpeedDown:m}),f.jsx("canvas",{ref:o,width:"500",height:b,style:{transform:`translateY(${-a}px)`}})]})};var Mr=sr.useId||(()=>{}),kr=0;function Ye(e){const[t,n]=l.useState(Mr());return ir(()=>{e||n(r=>r??String(kr++))},[e]),e||(t?`radix-${t}`:"")}var Xe="focusScope.autoFocusOnMount",qe="focusScope.autoFocusOnUnmount",Ot={bubbles:!1,cancelable:!0},jr="FocusScope",Qt=l.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[i,h]=l.useState(null),b=Dt(o),E=Dt(a),v=l.useRef(null),m=je(t,u=>h(u)),d=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(r){let u=function(w){if(d.paused||!i)return;const c=w.target;i.contains(c)?v.current=c:K(v.current,{select:!0})},x=function(w){if(d.paused||!i)return;const c=w.relatedTarget;c!==null&&(i.contains(c)||K(v.current,{select:!0}))},S=function(w){if(document.activeElement===document.body)for(const y of w)y.removedNodes.length>0&&K(i)};document.addEventListener("focusin",u),document.addEventListener("focusout",x);const A=new MutationObserver(S);return i&&A.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",x),A.disconnect()}}},[r,i,d.paused]),l.useEffect(()=>{if(i){It.add(d);const u=document.activeElement;if(!i.contains(u)){const S=new CustomEvent(Xe,Ot);i.addEventListener(Xe,b),i.dispatchEvent(S),S.defaultPrevented||($r(Hr(Jt(i)),{select:!0}),document.activeElement===u&&K(i))}return()=>{i.removeEventListener(Xe,b),setTimeout(()=>{const S=new CustomEvent(qe,Ot);i.addEventListener(qe,E),i.dispatchEvent(S),S.defaultPrevented||K(u??document.body,{select:!0}),i.removeEventListener(qe,E),It.remove(d)},0)}}},[i,b,E,d]);const g=l.useCallback(u=>{if(!n&&!r||d.paused)return;const x=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,S=document.activeElement;if(x&&S){const A=u.currentTarget,[w,c]=_r(A);w&&c?!u.shiftKey&&S===c?(u.preventDefault(),n&&K(w,{select:!0})):u.shiftKey&&S===w&&(u.preventDefault(),n&&K(c,{select:!0})):S===A&&u.preventDefault()}},[n,r,d.paused]);return f.jsx(Z.div,{tabIndex:-1,...s,ref:m,onKeyDown:g})});Qt.displayName=jr;function $r(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(K(r,{select:t}),document.activeElement!==n)return}function _r(e){const t=Jt(e),n=Pt(t,e),r=Pt(t.reverse(),e);return[n,r]}function Jt(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pt(e,t){for(const n of e)if(!Lr(n,{upTo:t}))return n}function Lr(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Fr(e){return e instanceof HTMLInputElement&&"select"in e}function K(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Fr(e)&&t&&e.select()}}var It=Wr();function Wr(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Mt(e,t),e.unshift(t)},remove(t){var n;e=Mt(e,t),(n=e[0])==null||n.resume()}}}function Mt(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Hr(e){return e.filter(t=>t.tagName!=="A")}var Ke=0;function Ur(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kt()),document.body.insertAdjacentElement("beforeend",e[1]??kt()),Ke++,()=>{Ke===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ke--}},[])}function kt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var G=function(){return G=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},G.apply(this,arguments)};function en(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Vr(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Pe="right-scroll-bar-position",Ie="width-before-scroll-bar",zr="with-scroll-bars-hidden",Br="--removed-body-scroll-bar-size";function Ze(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Gr(e,t){var n=l.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Yr=typeof window<"u"?l.useLayoutEffect:l.useEffect,jt=new WeakMap;function Xr(e,t){var n=Gr(null,function(r){return e.forEach(function(o){return Ze(o,r)})});return Yr(function(){var r=jt.get(n);if(r){var o=new Set(r),a=new Set(e),s=n.current;o.forEach(function(i){a.has(i)||Ze(i,null)}),a.forEach(function(i){o.has(i)||Ze(i,s)})}jt.set(n,e)},[e]),n}function qr(e){return e}function Kr(e,t){t===void 0&&(t=qr);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(a),s=n}var h=function(){var E=s;s=[],E.forEach(a)},b=function(){return Promise.resolve().then(h)};b(),n={push:function(E){s.push(E),b()},filter:function(E){return s=s.filter(E),n}}}};return o}function Zr(e){e===void 0&&(e={});var t=Kr(null);return t.options=G({async:!0,ssr:!1},e),t}var tn=function(e){var t=e.sideCar,n=en(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return l.createElement(r,G({},n))};tn.isSideCarExport=!0;function Qr(e,t){return e.useMedium(t),tn}var nn=Zr(),Qe=function(){},_e=l.forwardRef(function(e,t){var n=l.useRef(null),r=l.useState({onScrollCapture:Qe,onWheelCapture:Qe,onTouchMoveCapture:Qe}),o=r[0],a=r[1],s=e.forwardProps,i=e.children,h=e.className,b=e.removeScrollBar,E=e.enabled,v=e.shards,m=e.sideCar,d=e.noIsolation,g=e.inert,u=e.allowPinchZoom,x=e.as,S=x===void 0?"div":x,A=e.gapMode,w=en(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),c=m,y=Xr([n,t]),O=G(G({},w),o);return l.createElement(l.Fragment,null,E&&l.createElement(c,{sideCar:nn,removeScrollBar:b,shards:v,noIsolation:d,inert:g,setCallbacks:a,allowPinchZoom:!!u,lockRef:n,gapMode:A}),s?l.cloneElement(l.Children.only(i),G(G({},O),{ref:y})):l.createElement(S,G({},O,{className:h,ref:y}),i))});_e.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_e.classNames={fullWidth:Ie,zeroRight:Pe};var Jr=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eo(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Jr();return t&&e.setAttribute("nonce",t),e}function to(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function no(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ro=function(){var e=0,t=null;return{add:function(n){e==0&&(t=eo())&&(to(t,n),no(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oo=function(){var e=ro();return function(t,n){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rn=function(){var e=oo(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},ao={left:0,top:0,right:0,gap:0},Je=function(e){return parseInt(e||"",10)||0},io=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Je(n),Je(r),Je(o)]},so=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ao;var t=io(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},lo=rn(),ue="data-scroll-locked",co=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zr,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(ue,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pe,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Ie,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Pe," .").concat(Pe,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ie," .").concat(Ie,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ue,`] {
    `).concat(Br,": ").concat(i,`px;
  }
`)},$t=function(){var e=parseInt(document.body.getAttribute(ue)||"0",10);return isFinite(e)?e:0},uo=function(){l.useEffect(function(){return document.body.setAttribute(ue,($t()+1).toString()),function(){var e=$t()-1;e<=0?document.body.removeAttribute(ue):document.body.setAttribute(ue,e.toString())}},[])},fo=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;uo();var a=l.useMemo(function(){return so(o)},[o]);return l.createElement(lo,{styles:co(a,!t,o,n?"":"!important")})},at=!1;if(typeof window<"u")try{var De=Object.defineProperty({},"passive",{get:function(){return at=!0,!0}});window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch{at=!1}var se=at?{passive:!1}:!1,vo=function(e){return e.tagName==="TEXTAREA"},on=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vo(e)&&n[t]==="visible")},mo=function(e){return on(e,"overflowY")},ho=function(e){return on(e,"overflowX")},_t=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=an(e,r);if(o){var a=sn(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},go=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},po=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},an=function(e,t){return e==="v"?mo(t):ho(t)},sn=function(e,t){return e==="v"?go(t):po(t)},wo=function(e,t){return e==="h"&&t==="rtl"?-1:1},bo=function(e,t,n,r,o){var a=wo(e,window.getComputedStyle(t).direction),s=a*r,i=n.target,h=t.contains(i),b=!1,E=s>0,v=0,m=0;do{var d=sn(e,i),g=d[0],u=d[1],x=d[2],S=u-x-a*g;(g||S)&&an(e,i)&&(v+=S,m+=g),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!h&&i!==document.body||h&&(t.contains(i)||t===i));return(E&&(Math.abs(v)<1||!o)||!E&&(Math.abs(m)<1||!o))&&(b=!0),b},Ce=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lt=function(e){return[e.deltaX,e.deltaY]},Ft=function(e){return e&&"current"in e?e.current:e},yo=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Eo=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xo=0,le=[];function So(e){var t=l.useRef([]),n=l.useRef([0,0]),r=l.useRef(),o=l.useState(xo++)[0],a=l.useState(rn)[0],s=l.useRef(e);l.useEffect(function(){s.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var u=Vr([e.lockRef.current],(e.shards||[]).map(Ft),!0).filter(Boolean);return u.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),u.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(u,x){if("touches"in u&&u.touches.length===2)return!s.current.allowPinchZoom;var S=Ce(u),A=n.current,w="deltaX"in u?u.deltaX:A[0]-S[0],c="deltaY"in u?u.deltaY:A[1]-S[1],y,O=u.target,I=Math.abs(w)>Math.abs(c)?"h":"v";if("touches"in u&&I==="h"&&O.type==="range")return!1;var M=_t(I,O);if(!M)return!0;if(M?y=I:(y=I==="v"?"h":"v",M=_t(I,O)),!M)return!1;if(!r.current&&"changedTouches"in u&&(w||c)&&(r.current=y),!y)return!0;var D=r.current||y;return bo(D,x,u,D==="h"?w:c,!0)},[]),h=l.useCallback(function(u){var x=u;if(!(!le.length||le[le.length-1]!==a)){var S="deltaY"in x?Lt(x):Ce(x),A=t.current.filter(function(y){return y.name===x.type&&(y.target===x.target||x.target===y.shadowParent)&&yo(y.delta,S)})[0];if(A&&A.should){x.cancelable&&x.preventDefault();return}if(!A){var w=(s.current.shards||[]).map(Ft).filter(Boolean).filter(function(y){return y.contains(x.target)}),c=w.length>0?i(x,w[0]):!s.current.noIsolation;c&&x.cancelable&&x.preventDefault()}}},[]),b=l.useCallback(function(u,x,S,A){var w={name:u,delta:x,target:S,should:A,shadowParent:Do(S)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(c){return c!==w})},1)},[]),E=l.useCallback(function(u){n.current=Ce(u),r.current=void 0},[]),v=l.useCallback(function(u){b(u.type,Lt(u),u.target,i(u,e.lockRef.current))},[]),m=l.useCallback(function(u){b(u.type,Ce(u),u.target,i(u,e.lockRef.current))},[]);l.useEffect(function(){return le.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:m}),document.addEventListener("wheel",h,se),document.addEventListener("touchmove",h,se),document.addEventListener("touchstart",E,se),function(){le=le.filter(function(u){return u!==a}),document.removeEventListener("wheel",h,se),document.removeEventListener("touchmove",h,se),document.removeEventListener("touchstart",E,se)}},[]);var d=e.removeScrollBar,g=e.inert;return l.createElement(l.Fragment,null,g?l.createElement(a,{styles:Eo(o)}):null,d?l.createElement(fo,{gapMode:e.gapMode}):null)}function Do(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Co=Qr(nn,So);var ln=l.forwardRef(function(e,t){return l.createElement(_e,G({},e,{ref:t,sideCar:Co}))});ln.classNames=_e.classNames;var Ro=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ce=new WeakMap,Re=new WeakMap,Te={},et=0,cn=function(e){return e&&(e.host||cn(e.parentNode))},To=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cn(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},No=function(e,t,n,r){var o=To(t,Array.isArray(e)?e:[e]);Te[n]||(Te[n]=new WeakMap);var a=Te[n],s=[],i=new Set,h=new Set(o),b=function(v){!v||i.has(v)||(i.add(v),b(v.parentNode))};o.forEach(b);var E=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(m){if(i.has(m))E(m);else try{var d=m.getAttribute(r),g=d!==null&&d!=="false",u=(ce.get(m)||0)+1,x=(a.get(m)||0)+1;ce.set(m,u),a.set(m,x),s.push(m),u===1&&g&&Re.set(m,!0),x===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return E(t),i.clear(),et++,function(){s.forEach(function(v){var m=ce.get(v)-1,d=a.get(v)-1;ce.set(v,m),a.set(v,d),m||(Re.has(v)||v.removeAttribute(r),Re.delete(v)),d||v.removeAttribute(n)}),et--,et||(ce=new WeakMap,ce=new WeakMap,Re=new WeakMap,Te={})}},Ao=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Ro(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),No(r,o,n,"aria-hidden")):function(){return null}},dt="Dialog",[un,ya]=zt(dt),[Oo,V]=un(dt),dn=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,i=l.useRef(null),h=l.useRef(null),[b=!1,E]=fr({prop:r,defaultProp:o,onChange:a});return f.jsx(Oo,{scope:t,triggerRef:i,contentRef:h,contentId:Ye(),titleId:Ye(),descriptionId:Ye(),open:b,onOpenChange:E,onOpenToggle:l.useCallback(()=>E(v=>!v),[E]),modal:s,children:n})};dn.displayName=dt;var fn="DialogTrigger",vn=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=V(fn,n),a=je(t,o.triggerRef);return f.jsx(Z.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":mt(o.open),...r,ref:a,onClick:pe(e.onClick,o.onOpenToggle)})});vn.displayName=fn;var ft="DialogPortal",[Po,mn]=un(ft,{forceMount:void 0}),hn=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=V(ft,t);return f.jsx(Po,{scope:t,forceMount:n,children:l.Children.map(r,s=>f.jsx(lt,{present:n||a.open,children:f.jsx(dr,{asChild:!0,container:o,children:s})}))})};hn.displayName=ft;var ke="DialogOverlay",gn=l.forwardRef((e,t)=>{const n=mn(ke,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=V(ke,e.__scopeDialog);return a.modal?f.jsx(lt,{present:r||a.open,children:f.jsx(Io,{...o,ref:t})}):null});gn.displayName=ke;var Io=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=V(ke,n);return f.jsx(ln,{as:lr,allowPinchZoom:!0,shards:[o.contentRef],children:f.jsx(Z.div,{"data-state":mt(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ne="DialogContent",pn=l.forwardRef((e,t)=>{const n=mn(ne,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=V(ne,e.__scopeDialog);return f.jsx(lt,{present:r||a.open,children:a.modal?f.jsx(Mo,{...o,ref:t}):f.jsx(ko,{...o,ref:t})})});pn.displayName=ne;var Mo=l.forwardRef((e,t)=>{const n=V(ne,e.__scopeDialog),r=l.useRef(null),o=je(t,n.contentRef,r);return l.useEffect(()=>{const a=r.current;if(a)return Ao(a)},[]),f.jsx(wn,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&a.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault())})}),ko=l.forwardRef((e,t)=>{const n=V(ne,e.__scopeDialog),r=l.useRef(!1),o=l.useRef(!1);return f.jsx(wn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var h,b;(h=e.onInteractOutside)==null||h.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((b=n.triggerRef.current)==null?void 0:b.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),wn=l.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=e,i=V(ne,n),h=l.useRef(null),b=je(t,h);return Ur(),f.jsxs(f.Fragment,{children:[f.jsx(Qt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:f.jsx(cr,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":mt(i.open),...s,ref:b,onDismiss:()=>i.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(jo,{titleId:i.titleId}),f.jsx(_o,{contentRef:h,descriptionId:i.descriptionId})]})]})}),vt="DialogTitle",bn=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=V(vt,n);return f.jsx(Z.h2,{id:o.titleId,...r,ref:t})});bn.displayName=vt;var yn="DialogDescription",En=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=V(yn,n);return f.jsx(Z.p,{id:o.descriptionId,...r,ref:t})});En.displayName=yn;var xn="DialogClose",Sn=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=V(xn,n);return f.jsx(Z.button,{type:"button",...r,ref:t,onClick:pe(e.onClick,()=>o.onOpenChange(!1))})});Sn.displayName=xn;function mt(e){return e?"open":"closed"}var Dn="DialogTitleWarning",[Ea,Cn]=ur(Dn,{contentName:ne,titleName:vt,docsSlug:"dialog"}),jo=({titleId:e})=>{const t=Cn(Dn),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},$o="DialogDescriptionWarning",_o=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Cn($o).contentName}}.`;return l.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Lo=dn,Fo=vn,Wo=hn,Ho=gn,Uo=pn,Vo=bn,zo=En,Bo=Sn;function Go(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Rn=p.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,handleOnly:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),Le=()=>{const e=p.useContext(Rn);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Go("[vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-handle]{display:block;position:relative;opacity:.8;margin-left:auto;margin-right:auto;height:5px;width:56px;border-radius:1rem;touch-action:pan-y;cursor:grab}[vaul-handle]:active,[vaul-handle]:hover{opacity:1}[vaul-handle]:active{cursor:grabbing}[vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}@media (hover:hover) and (pointer:fine){[vaul-drawer]{user-select:none}}@media (pointer:fine){[vaul-handle-hitarea]:{width:100%;height:100%}}");const Tn=typeof window<"u"?l.useLayoutEffect:l.useEffect;function it(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function Yo(){return ht(/^Mac/)}function Xo(){return ht(/^iPhone/)}function qo(){return ht(/^iPad/)||Yo()&&navigator.maxTouchPoints>1}function Nn(){return Xo()||qo()}function ht(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const tt=typeof document<"u"&&window.visualViewport;function Wt(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function An(e){for(Wt(e)&&(e=e.parentElement);e&&!Wt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Ko=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ne=0,nt;function Zo(e={}){let{isDisabled:t}=e;Tn(()=>{if(!t)return Ne++,Ne===1&&(Nn()?nt=Jo():nt=Qo()),()=>{Ne--,Ne===0&&nt()}},[t])}function Qo(){return it(On(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function Jo(){let e,t=0,n=v=>{e=An(v.target),!(e===document.documentElement&&e===document.body)&&(t=v.changedTouches[0].pageY)},r=v=>{if(!e||e===document.documentElement||e===document.body){v.preventDefault();return}let m=v.changedTouches[0].pageY,d=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((d<=0&&m>t||d>=g&&m<t)&&v.preventDefault(),t=m)},o=v=>{let m=v.target;st(m)&&m!==document.activeElement&&(v.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},a=v=>{let m=v.target;st(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",tt&&(tt.height<window.innerHeight?requestAnimationFrame(()=>{Ht(m)}):tt.addEventListener("resize",()=>Ht(m),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},i=window.pageXOffset,h=window.pageYOffset,b=it(On(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let E=it(he(document,"touchstart",n,{passive:!1,capture:!0}),he(document,"touchmove",r,{passive:!1,capture:!0}),he(document,"touchend",o,{passive:!1,capture:!0}),he(document,"focus",a,!0),he(window,"scroll",s));return()=>{b(),E(),window.scrollTo(i,h)}}function On(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function he(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function Ht(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=An(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,o=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom;a>s&&(n.scrollTop+=o-r)}e=n.parentElement}}function st(e){return e instanceof HTMLInputElement&&!Ko.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ea(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ta(...e){return t=>e.forEach(n=>ea(n,t))}function Pn(...e){return l.useCallback(ta(...e),e)}let ge=null;function na({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:o,noBodyStyles:a}){const[s,i]=p.useState(()=>typeof window<"u"?window.location.href:""),h=p.useRef(0),b=p.useCallback(()=>{if(ge===null&&e&&!a){ge={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:v,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-v}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const d=m-window.innerHeight;d&&h.current>=m&&(document.body.style.top=`${-(h.current+d)}px`)}),300)}},[e]),E=p.useCallback(()=>{if(ge!==null&&!a){const v=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ge),window.requestAnimationFrame(()=>{if(o&&s!==window.location.href){i(window.location.href);return}window.scrollTo(m,v)}),ge=null}},[s]);return p.useEffect(()=>{function v(){h.current=window.scrollY}return v(),window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}},[]),p.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&b(),t||window.setTimeout(()=>{E()},500)):E())},[e,r,s,t,n,b,E]),{restorePositionSetting:E}}const In=new WeakMap;function k(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([o,a])=>{if(o.startsWith("--")){e.style.setProperty(o,a);return}r[o]=e.style[o],e.style[o]=a}),!n&&In.set(e,r)}function Ae(e,t){if(!e||!(e instanceof HTMLElement))return;let n=In.get(e);n&&(t?e.style[t]=n[t]:Object.entries(n).forEach(([r,o])=>{e.style[r]=o}))}const L=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Oe(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[L(t)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[L(t)?5:4]):null)}function ra(e){return 8*(Math.log(e+1)-2)}const P={DURATION:.5,EASE:[.32,.72,0,1]},Mn=.4;function kn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function oa({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,o=p.useRef(r),a=kn(t);return p.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}function aa({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=oa({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,i=kn(n),h=p.useCallback(b=>{if(a){const v=typeof b=="function"?b(e):b;v!==e&&i(v)}else o(b)},[a,e,o,i]);return[s,h]}function ia({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:o,fadeFromIndex:a,onSnapPointChange:s,direction:i="bottom"}){const[h,b]=aa({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),E=p.useMemo(()=>h===(n==null?void 0:n[n.length-1])||null,[n,h]),v=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===h||!n,m=p.useMemo(()=>n==null?void 0:n.findIndex(w=>w===h),[n,h]),d=p.useMemo(()=>{var w;return(w=n==null?void 0:n.map(c=>{const y=typeof window<"u",O=typeof c=="string";let I=0;if(O&&(I=parseInt(c,10)),L(i)){const D=O?I:y?c*window.innerHeight:0;return y?i==="bottom"?window.innerHeight-D:-window.innerHeight+D:D}const M=O?I:y?c*window.innerWidth:0;return y?i==="right"?window.innerWidth-M:-window.innerWidth+M:M}))!=null?w:[]},[n]),g=p.useMemo(()=>m!==null?d==null?void 0:d[m]:null,[d,m]),u=p.useCallback(w=>{var c;const y=(c=d==null?void 0:d.findIndex(O=>O===w))!=null?c:null;s(y),k(r.current,{transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,transform:L(i)?`translate3d(0, ${w}px, 0)`:`translate3d(${w}px, 0, 0)`}),d&&y!==d.length-1&&y!==a?k(o.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,opacity:"0"}):k(o.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,opacity:"1"}),b(y!==null?n==null?void 0:n[y]:null)},[r.current,n,d,a,o,b]);p.useEffect(()=>{if(h||e){var w;const c=(w=n==null?void 0:n.findIndex(y=>y===e||y===h))!=null?w:-1;d&&c!==-1&&typeof d[c]=="number"&&u(d[c])}},[h,e,n,d,u]);function x({draggedDistance:w,closeDrawer:c,velocity:y,dismissible:O}){if(a===void 0)return;const I=i==="bottom"||i==="right"?(g??0)-w:(g??0)+w,M=m===a-1,D=m===0,F=w>0;if(M&&k(o.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`}),y>2&&!F){O?c():u(d[0]);return}if(y>2&&F&&d&&n){u(d[n.length-1]);return}const z=d==null?void 0:d.reduce((W,Y)=>typeof W!="number"||typeof Y!="number"?W:Math.abs(Y-I)<Math.abs(W-I)?Y:W),H=L(i)?window.innerHeight:window.innerWidth;if(y>Mn&&Math.abs(w)<H*.4){const W=F?1:-1;if(W>0&&E){u(d[n.length-1]);return}if(D&&W<0&&O&&c(),m===null)return;u(d[m+W]);return}u(z)}function S({draggedDistance:w}){if(g===null)return;const c=i==="bottom"||i==="right"?g-w:g+w;(i==="bottom"||i==="right")&&c<d[d.length-1]||(i==="top"||i==="left")&&c>d[d.length-1]||k(r.current,{transform:L(i)?`translate3d(0, ${c}px, 0)`:`translate3d(${c}px, 0, 0)`})}function A(w,c){if(!n||typeof m!="number"||!d||a===void 0)return null;const y=m===a-1;if(m>=a&&c)return 0;if(y&&!c)return 1;if(!v&&!y)return null;const I=y?m+1:m-1,M=y?d[I]-d[I-1]:d[I+1]-d[I],D=w/Math.abs(M);return y?1-D:D}return{isLastSnapPoint:E,activeSnapPoint:h,shouldFade:v,getPercentageDragged:A,setActiveSnapPoint:b,activeSnapPointIndex:m,onRelease:x,onDrag:S,snapPointsOffset:d}}const sa=.25,la=100,Ut=8,te=16,Vt=26,rt="vaul-dragging";function jn({open:e,onOpenChange:t,children:n,shouldScaleBackground:r,onDrag:o,onRelease:a,snapPoints:s,nested:i=!1,setBackgroundColorOnScale:h=!0,closeThreshold:b=sa,scrollLockTimeout:E=la,dismissible:v=!0,handleOnly:m=!1,fadeFromIndex:d=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:u,fixed:x,modal:S=!0,onClose:A,noBodyStyles:w,direction:c="bottom",preventScrollRestoration:y=!0,disablePreventScroll:O=!1}){var I;const[M=!1,D]=p.useState(!1),[F,z]=p.useState(!1),[H,W]=p.useState(!1),[Y,be]=p.useState(!1),[Q,Fe]=p.useState(!1),[Gn,gt]=p.useState(!1),J=p.useRef(null),ye=p.useRef(null),We=p.useRef(null),He=p.useRef(null),de=p.useRef(null),fe=p.useRef(!1),Ue=p.useRef(null),Ve=p.useRef(0),oe=p.useRef(!1),pt=p.useRef(0),R=p.useRef(null),wt=p.useRef(((I=R.current)==null?void 0:I.getBoundingClientRect().height)||0),ze=p.useRef(0),Yn=p.useCallback(C=>{s&&C===me.length-1&&(ye.current=new Date)},[]),{activeSnapPoint:Xn,activeSnapPointIndex:ve,setActiveSnapPoint:bt,onRelease:qn,snapPointsOffset:me,onDrag:Kn,shouldFade:yt,getPercentageDragged:Zn}=ia({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:u,drawerRef:R,fadeFromIndex:d,overlayRef:J,onSnapPointChange:Yn,direction:c});Zo({isDisabled:!M||Q||!S||Gn||!F||O});const{restorePositionSetting:Qn}=na({isOpen:M,modal:S,nested:i,hasBeenOpened:F,preventScrollRestoration:y,noBodyStyles:w});function ae(){return(window.innerWidth-Vt)/window.innerWidth}function Jn(C){var T;!v&&!s||R.current&&!R.current.contains(C.target)||(wt.current=((T=R.current)==null?void 0:T.getBoundingClientRect().height)||0,Fe(!0),We.current=new Date,Nn()&&window.addEventListener("touchend",()=>fe.current=!1,{once:!0}),C.target.setPointerCapture(C.pointerId),Ve.current=L(c)?C.clientY:C.clientX)}function Et(C,T){var j;let N=C;const $=(j=window.getSelection())==null?void 0:j.toString(),_=R.current?Oe(R.current,c):null,U=new Date;if(N.hasAttribute("data-vaul-no-drag")||N.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(ye.current&&U.getTime()-ye.current.getTime()<500)return!1;if(_!==null&&(c==="bottom"?_>0:_<0))return!0;if($&&$.length>0)return!1;if(de.current&&U.getTime()-de.current.getTime()<E&&_===0||T)return de.current=U,!1;for(;N;){if(N.scrollHeight>N.clientHeight){if(N.scrollTop!==0)return de.current=new Date,!1;if(N.getAttribute("role")==="dialog")return!0}N=N.parentNode}return!0}function er(C){if(R.current&&Q){const T=c==="bottom"||c==="right"?1:-1,j=(Ve.current-(L(c)?C.clientY:C.clientX))*T,N=j>0,$=s&&!v&&!N;if($&&ve===0)return;const _=Math.abs(j),U=document.querySelector("[vaul-drawer-wrapper]");let B=_/wt.current;const q=Zn(_,N);if(q!==null&&(B=q),$&&B>=1||!fe.current&&!Et(C.target,N))return;if(R.current.classList.add(rt),fe.current=!0,k(R.current,{transition:"none"}),k(J.current,{transition:"none"}),s&&Kn({draggedDistance:j}),N&&!s){const ee=ra(j),Se=Math.min(ee*-1,0)*T;k(R.current,{transform:L(c)?`translate3d(0, ${Se}px, 0)`:`translate3d(${Se}px, 0, 0)`});return}const xe=1-B;if((yt||d&&ve===d-1)&&(o==null||o(C,B),k(J.current,{opacity:`${xe}`,transition:"none"},!0)),U&&J.current&&r){const ee=Math.min(ae()+B*(1-ae()),1),Se=8-B*8,St=Math.max(0,14-B*14);k(U,{borderRadius:`${Se}px`,transform:L(c)?`scale(${ee}) translate3d(0, ${St}px, 0)`:`scale(${ee}) translate3d(${St}px, 0, 0)`,transition:"none"},!0)}if(!s){const ee=_*T;k(R.current,{transform:L(c)?`translate3d(0, ${ee}px, 0)`:`translate3d(${ee}px, 0, 0)`})}}}p.useEffect(()=>()=>{Ee(!1),Qn()},[]),p.useEffect(()=>{var C;function T(){if(!R.current)return;const j=document.activeElement;if(st(j)||oe.current){var N;const $=((N=window.visualViewport)==null?void 0:N.height)||0;let _=window.innerHeight-$;const U=R.current.getBoundingClientRect().height||0;ze.current||(ze.current=U);const B=R.current.getBoundingClientRect().top;if(Math.abs(pt.current-_)>60&&(oe.current=!oe.current),s&&s.length>0&&me&&ve){const q=me[ve]||0;_+=q}if(pt.current=_,U>$||oe.current){const q=R.current.getBoundingClientRect().height;let xe=q;q>$&&(xe=$-Vt),x?R.current.style.height=`${q-Math.max(_,0)}px`:R.current.style.height=`${Math.max(xe,$-B)}px`}else R.current.style.height=`${ze.current}px`;s&&s.length>0&&!oe.current?R.current.style.bottom="0px":R.current.style.bottom=`${Math.max(_,0)}px`}}return(C=window.visualViewport)==null||C.addEventListener("resize",T),()=>{var j;return(j=window.visualViewport)==null?void 0:j.removeEventListener("resize",T)}},[ve,s,me]);function ie(){R.current&&(tr(),A==null||A(),k(R.current,{transform:L(c)?`translate3d(0, ${c==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${c==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`}),k(J.current,{opacity:"0",transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`}),Ee(!1),setTimeout(()=>{W(!1),D(!1)},300),setTimeout(()=>{s&&bt(s[0])},P.DURATION*1e3))}p.useEffect(()=>{if(!M&&r){const C=setTimeout(()=>{Ae(document.body)},200);return()=>clearTimeout(C)}},[M,r]),Tn(()=>{e?(D(!0),z(!0)):ie()},[e]),p.useEffect(()=>{Y&&(t==null||t(M))},[M]),p.useEffect(()=>{be(!0)},[]);function xt(){if(!R.current)return;const C=document.querySelector("[vaul-drawer-wrapper]"),T=Oe(R.current,c);k(R.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`}),k(J.current,{transition:`opacity ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,opacity:"1"}),r&&T&&T>0&&M&&k(C,{borderRadius:`${Ut}px`,overflow:"hidden",...L(c)?{transform:`scale(${ae()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ae()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${P.DURATION}s`,transitionTimingFunction:`cubic-bezier(${P.EASE.join(",")})`},!0)}function tr(){!Q||!R.current||(R.current.classList.remove(rt),fe.current=!1,Fe(!1),He.current=new Date)}function nr(C){if(!Q||!R.current)return;R.current.classList.remove(rt),fe.current=!1,Fe(!1),He.current=new Date;const T=Oe(R.current,c);if(!Et(C.target,!1)||!T||Number.isNaN(T)||We.current===null)return;const j=He.current.getTime()-We.current.getTime(),N=Ve.current-(L(c)?C.clientY:C.clientX),$=Math.abs(N)/j;if($>.05&&(gt(!0),setTimeout(()=>{gt(!1)},200)),s){qn({draggedDistance:N*(c==="bottom"||c==="right"?1:-1),closeDrawer:ie,velocity:$,dismissible:v}),a==null||a(C,!0);return}if(c==="bottom"||c==="right"?N>0:N<0){xt(),a==null||a(C,!0);return}if($>Mn){ie(),a==null||a(C,!1);return}var _;const U=Math.min((_=R.current.getBoundingClientRect().height)!=null?_:0,window.innerHeight);if(T>=U*b){ie(),a==null||a(C,!1);return}a==null||a(C,!0),xt()}p.useEffect(()=>{M&&(k(document.documentElement,{scrollBehavior:"auto"}),ye.current=new Date,Ee(!0))},[M]),p.useEffect(()=>{if(R.current&&H){var C;const T=R==null||(C=R.current)==null?void 0:C.querySelectorAll("*");T==null||T.forEach(j=>{const N=j;(N.scrollHeight>N.clientHeight||N.scrollWidth>N.clientWidth)&&N.classList.add("vaul-scrollable")})}},[H]);function Ee(C){const T=document.querySelector("[vaul-drawer-wrapper]");!T||!r||(C?(h&&(w||(k(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),k(document.body,{background:"black"},!0))),k(T,{borderRadius:`${Ut}px`,overflow:"hidden",...L(c)?{transform:`scale(${ae()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ae()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${P.DURATION}s`,transitionTimingFunction:`cubic-bezier(${P.EASE.join(",")})`})):(Ae(T,"overflow"),Ae(T,"transform"),Ae(T,"borderRadius"),k(T,{transitionProperty:"transform, border-radius",transitionDuration:`${P.DURATION}s`,transitionTimingFunction:`cubic-bezier(${P.EASE.join(",")})`})))}function rr(C){const T=C?(window.innerWidth-te)/window.innerWidth:1,j=C?-te:0;Ue.current&&window.clearTimeout(Ue.current),k(R.current,{transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,transform:`scale(${T}) translate3d(0, ${j}px, 0)`}),!C&&R.current&&(Ue.current=setTimeout(()=>{const N=Oe(R.current,c);k(R.current,{transition:"none",transform:L(c)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})},500))}function or(C,T){if(T<0)return;const j=L(c)?window.innerHeight:window.innerWidth,N=(j-te)/j,$=N+T*(1-N),_=-te+T*te;k(R.current,{transform:L(c)?`scale(${$}) translate3d(0, ${_}px, 0)`:`scale(${$}) translate3d(${_}px, 0, 0)`,transition:"none"})}function ar(C,T){const j=L(c)?window.innerHeight:window.innerWidth,N=T?(j-te)/j:1,$=T?-te:0;T&&k(R.current,{transition:`transform ${P.DURATION}s cubic-bezier(${P.EASE.join(",")})`,transform:L(c)?`scale(${N}) translate3d(0, ${$}px, 0)`:`scale(${N}) translate3d(${$}px, 0, 0)`})}return p.createElement(Lo,{modal:S,onOpenChange:C=>{if(e!==void 0){t==null||t(C);return}C?(z(!0),D(C)):ie()},open:M},p.createElement(Rn.Provider,{value:{visible:H,activeSnapPoint:Xn,snapPoints:s,setActiveSnapPoint:bt,drawerRef:R,overlayRef:J,scaleBackground:Ee,onOpenChange:t,onPress:Jn,setVisible:W,onRelease:nr,onDrag:er,dismissible:v,handleOnly:m,isOpen:M,isDragging:Q,shouldFade:yt,closeDrawer:ie,onNestedDrag:or,onNestedOpenChange:rr,onNestedRelease:ar,keyboardIsOpen:oe,openProp:e,modal:S,snapPointsOffset:me,direction:c}},n))}const ca=250,ua=120,$n=p.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{visible:o,closeDrawer:a,isDragging:s,snapPoints:i,activeSnapPoint:h,setActiveSnapPoint:b,dismissible:E,handleOnly:v,onPress:m,onDrag:d}=Le(),g=p.useRef(null),u=p.useRef(!1);function x(){if(u.current){w();return}window.setTimeout(()=>{S()},ua)}function S(){if(s||e||u.current){w();return}if(w(),(!i||i.length===0)&&E){a();return}if(h===i[i.length-1]&&E){a();return}const y=i.findIndex(I=>I===h);if(y===-1)return;const O=i[y+1];b(O)}function A(){g.current=window.setTimeout(()=>{u.current=!0},ca)}function w(){window.clearTimeout(g.current),u.current=!1}return p.createElement("div",{onClick:x,onDoubleClick:()=>{u.current=!0,a()},onPointerCancel:w,onPointerDown:c=>{v&&m(c),A()},onPointerMove:c=>{v&&d(c)},ref:r,"vaul-drawer-visible":o?"true":"false","vaul-handle":"","aria-hidden":"true",...n},p.createElement("span",{"vaul-handle-hitarea":"","aria-hidden":"true"},t))});$n.displayName="Drawer.Handle";const _n=p.forwardRef(function({children:e,...t},n){const{overlayRef:r,snapPoints:o,onRelease:a,shouldFade:s,isOpen:i,visible:h}=Le(),b=Pn(n,r),E=o&&o.length>0;return p.createElement(Ho,{onMouseUp:a,ref:b,"vaul-drawer-visible":h?"true":"false","vaul-overlay":"","vaul-snap-points":i&&E?"true":"false","vaul-snap-points-overlay":i&&s?"true":"false",...t})});_n.displayName="Drawer.Overlay";const Ln=p.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:t,onAnimationEnd:n,style:r,...o},a){const{drawerRef:s,onPress:i,onRelease:h,onDrag:b,dismissible:E,keyboardIsOpen:v,snapPointsOffset:m,visible:d,closeDrawer:g,modal:u,openProp:x,onOpenChange:S,setVisible:A,handleOnly:w,direction:c}=Le(),y=Pn(a,s),O=p.useRef(null),I=p.useRef(!1),M=(D,F,z=0)=>{if(I.current)return!0;const H=Math.abs(D.y),W=Math.abs(D.x),Y=W>H,be=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(D.x*be<0)&&W>=0&&W<=z)return Y}else if(!(D.y*be<0)&&H>=0&&H<=z)return!Y;return I.current=!0,!0};return p.useEffect(()=>{A(!0)},[]),p.createElement(Uo,{"vaul-drawer":"","vaul-drawer-direction":c,"vaul-drawer-visible":d?"true":"false",...o,ref:y,style:m&&m.length>0?{"--snap-point-height":`${m[0]}px`,...r}:r,onOpenAutoFocus:D=>{if(e)e(D);else{var F;D.preventDefault(),(F=s.current)==null||F.focus()}},onPointerDown:D=>{w||(o.onPointerDown==null||o.onPointerDown.call(o,D),O.current={x:D.clientX,y:D.clientY},i(D))},onPointerDownOutside:D=>{if(t==null||t(D),!u||D.defaultPrevented){D.preventDefault();return}v.current&&(v.current=!1),D.preventDefault(),S==null||S(!1),!(!E||x!==void 0)&&g()},onFocusOutside:D=>{if(!u){D.preventDefault();return}},onEscapeKeyDown:D=>{if(!u){D.preventDefault();return}},onPointerMove:D=>{if(w||(o.onPointerMove==null||o.onPointerMove.call(o,D),!O.current))return;const F=D.clientY-O.current.y,z=D.clientX-O.current.x,H=D.pointerType==="touch"?10:2;M({x:z,y:F},c,H)?b(D):(Math.abs(z)>H||Math.abs(F)>H)&&(O.current=null)},onPointerUp:D=>{o.onPointerUp==null||o.onPointerUp.call(o,D),O.current=null,I.current=!1,h(D)}})});Ln.displayName="Drawer.Content";function da({onDrag:e,onOpenChange:t,...n}){const{onNestedDrag:r,onNestedOpenChange:o,onNestedRelease:a}=Le();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return p.createElement(jn,{nested:!0,onClose:()=>{o(!1)},onDrag:(s,i)=>{r(s,i),e==null||e(s,i)},onOpenChange:s=>{s&&o(s),t==null||t(s)},onRelease:a,...n})}const X={Root:jn,NestedRoot:da,Content:Ln,Handle:$n,Overlay:_n,Trigger:Fo,Portal:Wo,Close:Bo,Title:Vo,Description:zo},Fn=({shouldScaleBackground:e=!0,...t})=>f.jsx(X.Root,{shouldScaleBackground:e,...t});Fn.displayName="Drawer";const fa=X.Portal,Wn=l.forwardRef(({className:e,...t},n)=>f.jsx(X.Overlay,{ref:n,className:re("fixed inset-0 z-50 bg-black/80",e),...t}));Wn.displayName=X.Overlay.displayName;const Hn=l.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(fa,{children:[f.jsx(Wn,{}),f.jsxs(X.Content,{ref:r,className:re("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border border-zinc-200 bg-white dark:border-zinc-800 dark:bg-zinc-950",e),...n,children:[f.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-zinc-100 dark:bg-zinc-800"}),t]})]}));Hn.displayName="DrawerContent";const Un=({className:e,...t})=>f.jsx("div",{className:re("grid gap-1.5 p-4 text-center sm:text-left",e),...t});Un.displayName="DrawerHeader";const Vn=({className:e,...t})=>f.jsx("div",{className:re("mt-auto flex flex-col gap-2 p-4",e),...t});Vn.displayName="DrawerFooter";const zn=l.forwardRef(({className:e,...t},n)=>f.jsx(X.Title,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));zn.displayName=X.Title.displayName;const Bn=l.forwardRef(({className:e,...t},n)=>f.jsx(X.Description,{ref:n,className:re("text-sm text-zinc-500 dark:text-zinc-400",e),...t}));Bn.displayName=X.Description.displayName;const va=({isOpen:e,onClose:t})=>f.jsx(Fn,{open:e,children:f.jsxs(Hn,{className:"bg-black",children:[f.jsxs(Un,{children:[f.jsx(zn,{children:"Game Instructions"}),f.jsx(Bn,{children:"Press space to start the game or click the button below."})]}),f.jsxs("div",{className:"p-4 flex flex-col justify-center items-center",children:[f.jsx("p",{className:"mt-4 text-lg font-semibold",children:"Controls"}),f.jsxs("div",{className:"flex items-center mt-4 gap-6",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(hr,{}),f.jsx("span",{className:"text-sm",children:"Increase drone speed"})]}),f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(wr,{}),f.jsx("span",{className:"text-sm",children:"Decrease drone speed"})]})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(gr,{}),f.jsx("span",{className:"text-sm",children:"Move drone left"})]}),f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(pr,{}),f.jsx("span",{className:"text-sm",children:"Move drone right"})]})]})]})]}),f.jsx(Vn,{children:f.jsx(mr,{onClick:t,className:"mt-6 px-4 py-2 bg-white text-black rounded-lg",children:"Start Game"})})]})}),ma=(e,t,n,r,o)=>{l.useEffect(()=>{if(!e||!t||!n)return;const a=setTimeout(()=>{const s=new WebSocket("wss://cave-drone-server.shtoa.xyz/cave");return s.onopen=function(){const i=`player:${t}-${n}`;s.send(i)},s.onmessage=function(i){r(i.data)},s.onclose=function(i){i.wasClean?console.log(`Connection closed cleanly, code=${i.code}, reason=${i.reason}`):console.log("Connection interrupted")},s.onerror=function(i){console.error("WebSocket error:",i),o(i)},()=>{s.close()}},1e3);return()=>{clearTimeout(a)}},[e,t,n,r,o])},xa=()=>{const e=Bt(),{toast:t}=vr(),n=Be(c=>c.playerId),r=Be(c=>c.complexity),a=Be(c=>c.chunks),s=Ge(c=>c.cave),i=Ge(c=>c.addSegment),h=Ge(c=>c.finalizeCave),b=s.length>0,[E,v]=l.useState(!0),[m,d]=l.useState(b),[g,u]=l.useState(null),x=l.useCallback(c=>{if(c==="finished"){d(!0),h();return}const[y,O]=c.split(",").map(Number);i({leftWall:y,rightWall:O})},[i,h]),S=l.useCallback(()=>{u("WebSocket connection error.")},[]);ma(!b,n,a,x,S);const A=l.useCallback(c=>{c.key==="Escape"&&v(y=>!y),c.code==="Space"&&v(!1)},[]);l.useEffect(()=>{g&&(t({title:"Error",description:"Something went wrong",variant:"destructive"}),e("/start-game"))},[g,e,t]),l.useEffect(()=>(window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)}),[A]);const w=l.useCallback(()=>{v(!1)},[]);return f.jsxs("div",{className:"relative min-h-screen",children:[!m&&f.jsx("div",{className:"h-screen flex items-center",children:f.jsx(Rr,{allCoordinatesReceived:m})}),m&&f.jsxs("div",{children:[f.jsx(va,{isOpen:E,onClose:w}),f.jsx(Ir,{segments:s,allCoordinatesReceived:m,isDrawerOpen:E,complexity:r})]})]})};export{xa as default};
